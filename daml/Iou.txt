module Iou where
import Daml.Script

template Iou
    with
        issuer : Party
        owner : Party
        amount : Decimal
        executed : Bool
    where
        signatory issuer, owner

        controller owner can
            Accept : ContractId Iou
                do
                    create this with
                        executed = True

setup = script do
    alice <- allocateParty "Alice"
    bob <- allocateParty "Bob"

    submit alice do
        createCmd Iou with
            issuer = alice
            owner = bob
            amount = 100.00
            executed = False
    
    --submit bob do
      --  exerciseCmd proposal Accept
